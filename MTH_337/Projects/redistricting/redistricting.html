

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Redistricting &mdash; Spring 2023 Courses</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/table_fix.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../master.html" class="icon icon-home"> Prof. Hollister's Classes
          

          
          </a>

          
            
            
              <div class="version">
                Spring 2023
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../mth337.html">MTH 337</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../MTH_309/mth309.html">MTH 309</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../master.html">Prof. Hollister's Classes</a>
        
      </nav>


      <div class="wy-nav-content">
<div class="git-ribbon">
  <a href="http://github.com/SwissDataScienceCenter" rel="me">Join us on GitHub</a>
</div>

        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../master.html">MTH 337</a> &raquo;</li>
        
      <li>Redistricting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/MTH_337/Projects/redistricting/redistricting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="redistricting">
<h1>Redistricting<a class="headerlink" href="#redistricting" title="Permalink to this headline">¶</a></h1>
<p class="rubric">(due: Wednesday, Nov 2 at 11:59 PM)</p>
<p>In the US, the people are represented in Congress by representatives elected by the people of their state.
Each state is partitioned into several congressional districts, and one representative is elected from each
district.  These congressional districts are also used when the state is distributing money for schools,
infrastructure, social programs, and more.</p>
<p>Every 10 years, after the decennial national census, the congressional district borders in every state are
redrawn in a process known as <em>redistricting</em>.  There are many criteria that those in charge of the
redistricting process use when redrawing the congressional district lines, including</p>
<ul class="simple">
<li><p>equal population in each district,</p></li>
<li><p>shapes of the districts,</p></li>
<li><p>political lean of each district,</p></li>
<li><p>majority minority districts to ensure representation of the minority.</p></li>
</ul>
<p>In this project we will focus on the first two of these criteria.</p>
<div class="section" id="equal-population">
<h2>Equal population<a class="headerlink" href="#equal-population" title="Permalink to this headline">¶</a></h2>
<p>In order to guarantee that each person gets equal representation, each representative sent to Congress
should be representing the same number of persons.  This means that a “good” district map should have
districts with equal population.  This means that districts in less populated areas are going to be bigger
than districts in densely populated areas.</p>
</div>
<div class="section" id="district-shapes">
<h2>District shapes<a class="headerlink" href="#district-shapes" title="Permalink to this headline">¶</a></h2>
<p>Another desireable quality for congressional district maps is for the districts to have a “regular” shape.
Consider the following district map, and notice the shape of the district labeled 19.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/new_york2020.jpeg"><img alt="../../../_images/new_york2020.jpeg" src="../../../_images/new_york2020.jpeg" style="width: 450px;" /></a>
</div>
<p>This district does not have a “regular” shape.</p>
</div>
<div class="section" id="scoring-a-district-map">
<h2>Scoring a district map<a class="headerlink" href="#scoring-a-district-map" title="Permalink to this headline">¶</a></h2>
<p>For any given map, there is an astromonically large number of possible ways to draw the district borders,
but not all of these are “good”, in fact most of them are quite bad.  Imagine you are the person responsible
for redrawing the district lines.  How do you compare two different district maps?  One way to do this would
be to assign a numerical score to each district map and keep the map with the better score.  For the purposes
of this project, this score would have to take into consideration both the populations and shapes of the
districts.</p>
<p>To measure how equally distributed the population is among the districts, we can use the statistical
standard deviation (SD) of the district populations.  The higher the SD, the less evenly
distributed the population is among the districts.  Dividing by the total population will normalize this
population metric to a value between 0 and 1.</p>
<p>To measure how regularly shaped the districts are, we can calculate the perimeter-area ratio (PAR) of each
district.  The shape with the lowest PAR is a circle with a value of <span class="math notranslate nohighlight">\(2\sqrt{\frac{\pi}{A}}\)</span> where
<span class="math notranslate nohighlight">\(A\)</span> is the area of the circle.  All other shapes with the same area will have a PAR larger than this,
and as the area increases, this lower bound will decrease to zero.  For the purposes of this project, the
maximum value of the PAR is 4.  The shape metric will be the sum of the PARs for each district, divided by
4 times the number the districts.</p>
<p>Assuming there are <span class="math notranslate nohighlight">\(k\)</span> districts and a total population of <span class="math notranslate nohighlight">\(m\)</span>, the map score is</p>
<div class="math notranslate nohighlight">
\[\alpha\cdot\text{SD}(\text{district popuations}) + (1-\alpha)\cdot\frac{1}{4}\sum_{i=1}^k \text{PAR}(\text{district }i),\]</div>
<p>where <span class="math notranslate nohighlight">\(\alpha\)</span> is a parameter between 0 and 1 which indicates how much priority is given to the
population metric.</p>
</div>
<div class="section" id="automating-redistricting">
<h2>Automating redistricting<a class="headerlink" href="#automating-redistricting" title="Permalink to this headline">¶</a></h2>
<p>The goal of this project is to write code that can model the redistricting process using the first two
criteria listed above.  In particular, we will use a monte carlo Markov chain process to go from a randomly
generated district map to an acceptable district map by making changes that will equalize the population of
each district and make the shapes more regular.</p>
<p>Our maps will consist of a <span class="math notranslate nohighlight">\(n \times n\)</span> array of <em>blocks</em>, each having the same population.  The
districts will be made up of groups of neighboring blocks.  Below is an example of what this might look like
with a 100x100 map of 7 districts.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/random_districts.png"><img alt="../../../_images/random_districts.png" src="../../../_images/random_districts.png" style="width: 450px;" /></a>
</div>
<p><strong>Exercise:</strong>  Write a function that will generate a random district map of a given size with a given number
of districts.  To do this, randomly select blocks to be the “center” of each district, and assign each block
to the district whose center is closest.</p>
<p><strong>Exercise:</strong>  Write a function that will calculate the map score of an given district map.</p>
</div>
<div class="section" id="monte-carlo-simulation">
<h2>Monte carlo simulation<a class="headerlink" href="#monte-carlo-simulation" title="Permalink to this headline">¶</a></h2>
<p>A <em>monte carlo simulation</em> is a mathematical modeling technique where the state of a dynamical system
(changes over time) is updated to a new state that is randomly chosen from the collection of all the
possible states based on the current state.</p>
<p>For this project, we will update the district map by randomly selecting a block on the border of its district
and switching it to one of the other districts it is bordering.  Effectively choosing at random a new map
that differs from the current map by one border block.</p>
</div>
<div class="section" id="markov-chain">
<h2>Markov Chain<a class="headerlink" href="#markov-chain" title="Permalink to this headline">¶</a></h2>
<p>A <em>Markov chain</em> is a sequence of states of a system where each state is generated from the previous
based on a set of stocastic rules (based on probability).</p>
<p>Once a new district map is selected that differs from the current by one border block, the new map and the
map will be scored.  If the new map has a better score, we will keep it.  If the new map does not have a
better score, we have a probability <span class="math notranslate nohighlight">\(p\)</span> of keeping it anyways.  Thus we will have a Markov chain of
district maps.</p>
<p><strong>Exercise:</strong>  Write a function that will update a given district map based on the rules described above.</p>
</div>
<div class="section" id="project">
<h2>Project<a class="headerlink" href="#project" title="Permalink to this headline">¶</a></h2>
<p>Simulate the redistricting process by animating the Markov chain described above using the following code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">notebook</span>

<span class="n">dist_map</span> <span class="o">=</span> <span class="n">GenerateRandomDistricts</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">num_districts</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dist_map</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">dist_map</span>

    <span class="n">dist_map</span> <span class="o">=</span> <span class="n">UpdateDistrictMap</span><span class="p">(</span><span class="n">dist_map</span><span class="p">,</span><span class="n">size</span><span class="p">,</span><span class="n">alpha</span><span class="p">)</span>
    <span class="n">im</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">dist_map</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">im</span>

<span class="n">anim</span> <span class="o">=</span> <span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">animate</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Extra Credit 1:</strong> To make the simulation more realistic, allow the blocks to have different populations, and
update your map score calculation accordingly.</p>
<p><strong>Extra Credit 2:</strong> Gerrymandering is when the district borders are drawn to favor one political party over
another.  One way to try to avoid this is to require that the percentage of districts that favor party A must
closely match the percentage of blocks that favor party A.  Include this in your simulation.</p>
<p><strong>Extra Credit 3:</strong> Another way to measure the shape of a district is to use the <em>centering metric</em>.  This
metric calculates the <em>center</em> of the district and takes the standard deviation of distance from the center
of each block in the district.  Include this metric in your map score.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>


  <hr/>

  <div role="contentinfo">
    <p>
      Last updated on Jan 18, 2023.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>